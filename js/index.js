!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};
return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}
var n=window.webpackJsonpEmbeddedFollowTop;window.webpackJsonpEmbeddedFollowTop=function(i,a){for(var s,u,l=0,d=[];l<i.length;l++)u=i[l],r[u]&&d.push.apply(d,r[u]),r[u]=0;for(s in a)e[s]=a[s];for(n&&n(i,a);
d.length;)d.shift().call(null,t);
if(a[0])return o[0]=0,t(0)};
var o={},r={1:0};
t.e=function(e,n){if(0===r[e])return n.call(null,t);
if(void 0!==r[e])r[e].push(n);
else{r[e]=[n];var o=document.getElementsByTagName("head")[0],i=document.createElement("script");
i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=t.p+""+e+".index.module.js",o.appendChild(i)}},t.m=e,t.c=o,t.p=""}([]),webpackJsonpEmbeddedFollowTop([0,1],[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),i=o(r),a=n(3),s=o(a),u=n(2),l=o(u),d=n(6),c=o(d);
window.Brndm.embedded=function(e){function t(){f?(document.body.removeAttribute("brndm-drawer-opened"),document.body.removeEventListener("click",o)):(document.body.setAttribute("brndm-drawer-opened",""),document.body.addEventListener("click",o)),f=!f}function n(){m?document.body.removeAttribute("brndm-login-opened"):document.body.setAttribute("brndm-login-opened",""),m=!m}function o(){t()}function r(){(0,s["default"])("drawer",{src:"https://"+u}),d=(0,i["default"])(u,function(){return n()})}function a(){p?window.location="https://"+u+"/messages/"+h.slug:(d.message("login-set-intent",{intent:"message",url:"https://"+u+"/messages/"+h.slug,profile:h}),n())}var u=e.webEndpoint,d=void 0,f=!1,m=!1,p=void 0,h=e.profile,v=new c["default"](window),b="follow-top",w=new l["default"](b,{directory:b,className:"am-fade"});
return w.message("initialize",{profile:h,context:e.context}),v.on("follow-top-ready",function(e){p=e,w.setClassName("am-fade ng-animate ng-enter ng-enter-active"),p||r()}).on("follow-user",function(e){d.message("login-set-intent",{intent:"follow",profile:h}),n()}).on("message-user",function(){return a()}).on("drawer-toggle",function(){return t()}).on("redirect",function(e){window.location=e}),{messageUser:a,profile:h}}(window.Brndm)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=document.createElement("div");
n.id="brndm-login-modal";var o=document.createElement("div");
o.className="overlay",o.addEventListener("click",t),n.appendChild(o);
var r=new i["default"]("login",{src:"https://"+e+"/login",container:n}),a=(0,s["default"])(t,e);
return n.appendChild(a),document.body.appendChild(n),r};
var r=n(2),i=o(r),a=n(5),s=o(a)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});
var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(3),s=o(a),u=n(4),l=o(u),d=function(){function e(t,n){var o=this;r(this,e),this._element=(0,s["default"])(t,n),n.className&&(this._element.className=n.className);
var i=void 0;this._loadPromise=new Promise(function(e){return i=e}),this._loadPromise.then(function(){o._sender=new l["default"](o._element.contentWindow),o._loadPromise=null}),this._element.addEventListener("load",function(){return i()})}return i(e,[{key:"message",value:function t(e,n){var o=this,t=function(){return o._sender.message(e,n)};
this._loadPromise?this._loadPromise.then(t):t()}},{key:"resize",value:function(e){this._element.setAttribute("height",e+"px")}},{key:"setClassName",value:function(e){this._element.className=e}}]),e}();
t["default"]=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.container,o=t.directory,r=void 0===o?"":o,i=t.src,a=document.createElement("iframe");
return a.id="brndm-"+e,a.setAttribute("frameborder",0),a.setAttribute("seamless",""),r&&(r+="/"),i||(i="localhost"===window.location.hostname?"http://localhost:9000/"+r+e+".html":"mooxy.com"===window.location.hostname?"https://mooxy.com/embedded/"+r+e+".html":"https://branded.me/embedded/"+r+e+".html"),a.src=i,n?"string"==typeof n?document.querySelector(n).appendChild(a):n.appendChild(a):document.body.appendChild(a),a}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});
var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){n(this,e),this._window=t}return o(e,[{key:"message",value:function(e,t){this._window.postMessage({type:"brndm-"+e,data:t},"*")}}]),e}();
t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=document.createElement("a");
return n.className="icon icon-close",n.title="Close",n.style.backgroundImage="url('https://"+t+"/assets/sprites/svg/close.svg')",n.addEventListener("click",e),n}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});
var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),s=o(a),u=function(){function e(t){var n=this,o=arguments.length<=1||void 0===arguments[1]?null:arguments[1];r(this,e),this._handlers={};
var i=function(e){var t=e.origin;if(t=t.replace(/https?:\/\//,""),!o||t===o){n._sender=n._sender||new s["default"](e.source);
var r=e.data,i=r.type;if(i&&i.startsWith("brndm-")){i=i.replace(/brndm-/,"");
var a=!0,u=!1,l=void 0;try{for(var d,c=(n._handlers[i]||[])[Symbol.iterator]();
!(a=(d=c.next()).done);
a=!0){var f=d.value;f(r.data)}}catch(m){u=!0,l=m}finally{try{!a&&c["return"]&&c["return"]()}finally{if(u)throw l}}}}};
t.addEventListener("message",i.bind(this))}return i(e,[{key:"on",value:function(e,t){var n=this._handlers[e]||[];return n.push(t),this._handlers[e]=n,this}},{key:"getSender",value:function(){return this._sender}}]),e}();
t["default"]=u}]);
